let questions = [];
let idx = 0;
let correctAnswers = 0;
let currentScore = 0;

const CRITERIA = [
    "ì˜¤ëž˜ëœ(1ë…„ ì´ìƒ ì§€ë‚œ) ë‰´ìŠ¤ì¸ê°€?",
    "ì œëª©ì´ ìžê·¹ì -ì„ ë™ì ì¸ê°€?",
    "ìžë£Œì˜ ì¶œì²˜ê°€ ì—†ê±°ë‚˜, ë¹„ê³µì‹ì  ìžë£Œì¸ê°€?",
    "ë‚´ìš©ì´ ì œëª©ê³¼ ë‹¤ë¥´ê±°ë‚˜ ì¼ê´€ì ì´ì§€ ì•Šì€ê°€?",
    "ë‚´ìš©ì´ í’ìžì ì´ì§„ ì•Šì€ê°€?"
];

const QUESTIONS_DATA = [
    {
        "id": 1,
        "title": "ë¶í•œ, ë™í•´ë¡œ ë‹¨ê±°ë¦¬ íƒ„ë„ë¯¸ì‚¬ì¼ ë°œì‚¬ (1ì£¼ì „)",
        "content": "ë¶í•œì´ ë™í•´ ë°©í–¥ìœ¼ë¡œ ë‹¨ê±°ë¦¬ íƒ„ë„ë¯¸ì‚¬ì¼ 1ë°œì„ ë°œì‚¬í–ˆë‹¤ê³  í•œêµ­ êµ° ë‹¹êµ­ì´ ë°œí‘œí–ˆë‹¤. ë¯¸ì‚¬ì¼ì€ í‰ì–‘ ê·¼ì²˜ì—ì„œ ë°œì‚¬ëœ ê²ƒìœ¼ë¡œ ì¶”ì •ë˜ë©° í•œêµ­ê³¼ ì¼ë³¸ êµ°ì€ ë¹„í–‰ ê¶¤ì ì„ ë¶„ì„ ì¤‘ì´ë‹¤. ì „ë¬¸ê°€ë“¤ì€ ìµœê·¼ ê³ ì¡°ë˜ëŠ” í•œë°˜ë„ ê¸´ìž¥ ìƒí™©ê³¼ ì—°ê´€ë˜ì–´ ìžˆë‹¤ê³  ë¶„ì„í•˜ê³  ìžˆë‹¤. í•œêµ­ ì •ë¶€ëŠ” ê¸´ë°€í•œ ì•ˆë³´ ëŒ€ë¹„íƒœì„¸ë¥¼ ìœ ì§€í•˜ê² ë‹¤ê³  ë°í˜”ë‹¤.",
        "answer": "ì§„ì§œ ë‰´ìŠ¤",
        "hints": [
            "ìµœì‹  ì •ë³´ì´ë©°, ê³µì‹ì ì¸ êµ° ë‹¹êµ­ì˜ ë°œí‘œë¥¼ ì¸ìš©í•˜ê³  ìžˆê³ , ì œëª©ê³¼ ë‚´ìš©ì´ ì¼ì¹˜í•˜ì—¬ ì‹ ë¢°í•  ìˆ˜ ìžˆëŠ” ë‰´ìŠ¤ìž…ë‹ˆë‹¤."
        ]
    },
    {
        "id": 2,
        "title": "ë‚¨ë¶ ê¸´ìž¥ ì™„í™” ìœ„í•´ ë‚¨ì¸¡ í™•ì„±ê¸° ì² ê±° ì‹œìž‘ (3ë‹¬ì „)",
        "content": "í•œêµ­ ì •ë¶€ê°€ ë¹„ë¬´ìž¥ì§€ëŒ€ ì¸ê·¼ì— ì„¤ì¹˜ëœ ëŒ€ë¶ í™•ì„±ê¸° ì² ê±° ìž‘ì—…ì„ ì‹œìž‘í–ˆë‹¤. ì´ëŠ” ìµœê·¼ ê³ ì¡°ëœ ê°ˆë“±ì„ ì™„í™”í•˜ë ¤ëŠ” ì¡°ì¹˜ë¡œ, ì •ë¶€ëŠ” ëŒ€í™”ë¥¼ ìœ„í•œ ì‹ ë¢° íšŒë³µì´ í•„ìš”í•˜ë‹¤ê³  ì„¤ëª…í–ˆë‹¤. í˜„ìž¥ì—ì„œëŠ” êµ° ìž¥ë³‘ë“¤ì´ ìž¥ë¹„ í•´ì²´ ìž‘ì—…ì„ ì§„í–‰í–ˆìœ¼ë©° ì¼ë¶€ëŠ” ë…¸í›„í™”ëœ ìƒíƒœì˜€ë‹¤. ì „ë¬¸ê°€ë“¤ì€ ì´ë²ˆ ì¡°ì¹˜ê°€ ë‚¨ë¶ ê°„ ì†Œí†µì˜ ê³„ê¸°ê°€ ë  ìˆ˜ ìžˆë‹¤ê³  ë³¸ë‹¤.",
        "answer": "ì§„ì§œ ë‰´ìŠ¤",
        "hints": [
            "ì •ë¶€ì˜ ê³µì‹ì ì¸ ì¡°ì¹˜ë¥¼ ë‹¤ë£¨ê³  ìžˆìœ¼ë©°, ìžê·¹ì ì´ì§€ ì•Šê³  ì‚¬ì‹¤ì„ ê°ê´€ì ìœ¼ë¡œ ì „ë‹¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤."
        ]
    },
    {
        "id": 3,
        "title": "2025 ì„œìš¸ê±´ì¶•ë¹„ì—”ë‚ ë ˆ, â€˜ì‚¬ëžŒ ì¤‘ì‹¬ì˜ ê±´ì¶•â€™ ê°•ì¡° (3ì£¼ì „)",
        "content": "2025 ì„œìš¸ê±´ì¶•ë¹„ì—”ë‚ ë ˆê°€ â€˜ë” ì¸ê°„ì ì¸ ê±´ì¶•â€™ì„ ì£¼ì œë¡œ ì—´ë¦°ë‹¤. ê¸°íšìžë“¤ì€ í˜„ëŒ€ ë„ì‹œ ê±´ì¶•ì´ ì‹œë¯¼ì˜ ì‚¶ê³¼ ê°ê°ì„ ì¶©ë¶„ížˆ ë°˜ì˜í•˜ì§€ ëª»í–ˆë‹¤ê³  ì§€ì í•˜ë©° ìƒˆë¡œìš´ íŒ¨ëŸ¬ë‹¤ìž„ì„ ì œì‹œí•œë‹¤. ì—¬ëŸ¬ ë‚˜ë¼ì˜ ê±´ì¶•ê°€ë“¤ì´ ì°¸ì—¬í•´ ì‹¤í—˜ì  ìž‘í’ˆì„ ì„ ë³´ì¼ ì˜ˆì •ì´ë‹¤. ì£¼ìµœ ì¸¡ì€ ì‹œë¯¼ë“¤ì´ ë„ì‹œì˜ ë¯¸ëž˜ë¥¼ ìƒìƒí•  ìˆ˜ ìžˆëŠ” ìž¥ì´ ë˜ê¸¸ ê¸°ëŒ€í•˜ê³  ìžˆë‹¤.",
        "answer": "ì§„ì§œ ë‰´ìŠ¤",
        "hints": [
            "íŠ¹ì • í–‰ì‚¬ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°ê´€ì ìœ¼ë¡œ ì „ë‹¬í•˜ë©°, ì¶œì²˜ê°€ ëª…í™•í•˜ê³  ì‹ ë¢°í•  ìˆ˜ ìžˆëŠ” ë‚´ìš©ìž…ë‹ˆë‹¤."
        ]
    },
    {
        "id": 4,
        "title": "í•œêµ­, ë™ë‚¨ì•„ 3ê°œêµ­ê³¼ ë‹¨ì¼ í™”í ì¶”ì§„ ë…¼ì˜ì„¤ í¼ì ¸(1ì¼ì „)",
        "content": "ê²½ì œ ì „ë¬¸ ì»¤ë®¤ë‹ˆí‹°ì—ì„œ í•œêµ­ì´ ë™ë‚¨ì•„ 3ê°œêµ­ê³¼ ë‹¨ì¼ í™”í ì²´ê³„ë¥¼ í˜‘ì˜í–ˆë‹¤ëŠ” ê¸€ì´ ê³µìœ ë˜ì—ˆë‹¤. íšŒì˜ í…Œì´ë¸” ì‚¬ì§„ì´ í•¨ê»˜ ëŒë©° ì¼ë¶€ ì´ìš©ìžë“¤ì€ í•´ì™¸ ê¸ˆìœµê¶Œì—ì„œë„ ì´ë¯¸ ì•Œê³  ìžˆëŠ” ë‚´ìš©ì´ë¼ ë§í•˜ê³  ìžˆë‹¤. ë‹¤ì–‘í•œ ì£¼ìž¥ë“¤ì´ ë”í•´ì§€ë©° í¡ì‚¬ ë¹„ë°€ í˜‘ìƒì²˜ëŸ¼ ë°›ì•„ë“¤ì—¬ì§€ê³  ìžˆë‹¤.\n\nì¶œì²˜: êµ­ì œê²½ì œí¬ëŸ¼ ì»¤ë®¤ë‹ˆí‹°",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "ì¶œì²˜ê°€ 'ì»¤ë®¤ë‹ˆí‹°'ë¡œ ë¹„ê³µì‹ì ìž…ë‹ˆë‹¤.",
            "'~ë¼ëŠ” ê¸€ì´ ê³µìœ ë˜ì—ˆë‹¤'ëŠ” ì‹ìœ¼ë¡œ ë¶ˆë¶„ëª…í•œ ì‚¬ì‹¤ì„ ì „ë‹¬í•˜ë¯€ë¡œ ê°€ì§œ ë‰´ìŠ¤ì¼ í™•ë¥ ì´ ë†’ìŠµë‹ˆë‹¤."
        ]
    },
    {
        "id": 5,
        "title": "2019ë…„ íƒì‚¬ì—ì„œ í¬ì°©ëœ í•´ì € ë„ì‹œ ìž¬ì¡°ëª…(3ë…„ì „)",
        "content": "í•œ ë‹¤í ì œìž‘íŒ€ì´ ê³¼ê±° íƒì‚¬ ë‹¹ì‹œ ì´¬ì˜í–ˆë‹¤ëŠ” í•´ì € ë„ì‹œ ìœ ì  ì˜ìƒì„ ë‹¤ì‹œ ì–¸ê¸‰í•˜ë©° ê´€ì‹¬ì„ ëª¨ìœ¼ê³  ìžˆë‹¤. ì œìž‘íŒ€ì€ ì´¬ì˜ ë‹¹ì‹œ ì—¬ëŸ¬ ë³€ìˆ˜ê°€ ìžˆì—ˆë‹¤ê³  ë§í•˜ë©° ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìž¬ë¶„ì„ì„ ì‹œì‚¬í–ˆë‹¤. ì˜¨ë¼ì¸ì—ì„œëŠ” ì˜ìƒ ì† êµ¬ì¡°ë¬¼ì˜ ì •ì²´ì— ëŒ€í•œ ë‹¤ì–‘í•œ í•´ì„ì´ ì´ì–´ì§€ê³  ìžˆë‹¤.\n\nì¶œì²˜: íƒì‚¬ë‹¤í ì—°êµ¬íšŒ",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "3ë…„ ì „ì˜ ì˜¤ëž˜ëœ ë‰´ìŠ¤ë¥¼ ë‹¤ì‹œ ì–¸ê¸‰í•˜ê³  ìžˆìŠµë‹ˆë‹¤.",
            "ì¶œì²˜ê°€ 'ì—°êµ¬íšŒ'ë¼ëŠ” ë¹„ê³µì‹ì ì¸ ëª…ì¹­ì„ ì‚¬ìš©í•˜ê³  ìžˆìŠµë‹ˆë‹¤."
        ]
    },
    {
        "id": 6,
        "title": "ë‚´ë…„ë¶€í„° ê¸°ì—…ì—ì„  í™”ìž¥ì‹¤ ì‹œê°„ ì¸¡ì •í•œë‹¤? ì¶©ê²©! (4ì¼ì „)",
        "content": "SNSì—ì„œ ì—…ë¬´íš¨ìœ¨ ê°œì„  ëª…ëª©ìœ¼ë¡œ â€˜íšŒì‚¬ í™”ìž¥ì‹¤ ì´ìš©ì‹œê°„ ì¸¡ì • ìž¥ì¹˜â€™ ì„¤ì¹˜ë¥¼ ë‹¤ë£¬ ì¹´ë“œë‰´ìŠ¤ê°€ í™”ì œë¥¼ ëª¨ì•˜ë‹¤. ìœ ë¨¸ ê³„ì •ë“¤ì€ ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì—¬ëŸ¬ íŒ¨ëŸ¬ë”” ì´ë¯¸ì§€ë¥¼ ì œìž‘í–ˆê³  ëˆ„ë¦¬ê¾¼ë“¤ì€ ê°ê¸° ë‹¤ë¥¸ í•´ì„ì„ ë‚´ë†“ê³  ìžˆë‹¤. ê²Œì‹œë¬¼ë“¤ì€ ìˆœì‹ê°„ì— í¼ì§€ë©° ì¼ë¶€ ê²Œì‹œë¬¼ì€ 200ë§Œë·°ë¥¼ ê¸°ë¡í•˜ê¸°ë„ í–ˆë‹¤. ìˆ˜ë§Žì€ ëŒ“ê¸€ë„ ë‹¬ë¦¬ê³  ìžˆë‹¤\n\nì¶œì²˜: ë„ì‹œì •ì±…ì´ìŠˆ SNSê³„ì •",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "ì œëª©ì— 'ì¶©ê²©!'ê³¼ ê°™ì€ ìžê·¹ì ì¸ í‘œí˜„ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.",
            "ì¶œì²˜ê°€ ê³µì‹ ì–¸ë¡ ì‚¬ê°€ ì•„ë‹Œ 'SNS ê³„ì •'ìœ¼ë¡œ ë¹„ê³µì‹ì ìž…ë‹ˆë‹¤."
        ]
    },
    {
        "id": 7,
        "title": "â€˜ì „êµ­ ì™€ì´íŒŒì´ ì°¨ë‹¨ì¼â€™ ë…¼ì˜ ë¬¸ì„œ ë°œê²¬ (3ì£¼ì „)",
        "content": "ì¼ë¶€ í¬ëŸ¼ì—ì„œ ê³µê³µ ì™€ì´íŒŒì´ë¥¼ ì •ê¸°ì ìœ¼ë¡œ ì°¨ë‹¨í•´ ë””ì§€í„¸ íœ´ì‹ì¼ì„ ìš´ì˜í•˜ëŠ” ë°©ì•ˆì´ ì˜¤ê°„ë‹¤ëŠ” ì´ì•¼ê¸°ê°€ ëŒê³  ìžˆë‹¤. ê²Œì‹œëœ ë¬¸ì„œ ì‚¬ì§„ì—ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê¸°ê´€ëª…ì´ í‘œì‹œë˜ì–´ ìžˆì–´ ì´ìš©ìžë“¤ ì‚¬ì´ì—ì„œ ë‹¤ì–‘í•œ ì¶”ì¸¡ì´ ì´ë£¨ì–´ì§€ê³  ìžˆë‹¤. ì˜¨ë¼ì¸ì—ì„œëŠ” ì´ë¯¸ ì¶”ì§„ ë‹¨ê³„ì— ìžˆëŠ” ê²ƒ ì•„ë‹ˆëƒëŠ” ì˜ê²¬ë„ ë“±ìž¥í–ˆë‹¤.\n\nì¶œì²˜: ë””ì§€í„¸ì •ì±…í¬ëŸ¼",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "ì¶œì²˜ê°€ 'í¬ëŸ¼'ìœ¼ë¡œ ë¹„ê³µì‹ì ìž…ë‹ˆë‹¤.",
            "ë‚´ìš©ì´ '~ë¼ëŠ” ì´ì•¼ê¸°ê°€ ëŒê³  ìžˆë‹¤'ëŠ” ì‹ìœ¼ë¡œ ë¶ˆë¶„ëª…í•˜ì—¬ ì œëª©ê³¼ ë‚´ìš©ì˜ ì¼ê´€ì„±ì´ ë¶€ì¡±í•©ë‹ˆë‹¤."
        ]
    },
    {
        "id": 8,
        "title": "ì •ë¶€, 'íšŒì‚¬ ê·¼ë¡œìž 15ë¶„ ìš´ë™ ì˜ë¬´í™”' ëª…ë ¹ì— ì¹­ì°¬ì¼ìƒ‰! (4ì¼ì „)",
        "content": "ì •ë¶€ëŠ” ì˜¤ëŠ˜ë¶€í„° ëª¨ë“  ê¸°ì—…ì— ê·¼ë¬´ ì‹œìž‘ ì „ 15ë¶„ ìš´ë™ì„ ì‹¤ì‹œí•˜ë„ë¡ ì˜ë¬´í™”í•œë‹¤ê³  ë°œí‘œí–ˆë‹¤.\nê´€ê³„ìžëŠ” â€œí•œêµ­ ì§ìž¥ì¸ì˜ ìš´ë™ ë¶€ì¡± ë¬¸ì œë¥¼ ë‹¨ 15ë¶„ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìžˆë‹¤â€ë©° ìžì‹ ê°ì„ ë³´ì˜€ë‹¤.\nëŒ€ë¶€ë¶„ íšŒì‚¬ì—ì„œëŠ” ì´ ì‹œê°„ì„ í™œìš©í•´ ì§ì›ë“¤ì´ ì±…ìƒ ì•žì—ì„œ íŒ”ì„ ëŒë¦¬ê±°ë‚˜ ìŠ¤íŠ¸ë ˆì¹­ ì˜ìƒë§Œ ë³´ëŠ” ê²ƒìœ¼ë¡œ ìš´ë™ì„ ëë‚¸ë‹¤. í•œ ì§ìž¥ì¸ì€ â€œì´ì œ 15ë¶„ë§Œ í•˜ë©´ ëŒ€í•œë¯¼êµ­ ì§ìž¥ì¸ ê±´ê°• ë¬¸ì œê°€ ì‹¹ í•´ê²°ë˜ê² ë„¤ìš”~~â€ë¼ë©° í˜€ë¥¼ ë‚´ë‘˜ë €ë‹¤.",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "ë‚´ìš© ì¤‘ ì§ìž¥ì¸ì˜ ë°˜ì‘('í˜€ë¥¼ ë‚´ë‘˜ë €ë‹¤', '~~') ë“± ë¹„ê¼¬ëŠ” í‘œí˜„ì„ í†µí•´ í’ìžì ì¸ ì˜ë„ë¥¼ ë“œëŸ¬ë‚´ê³  ìžˆìŠµë‹ˆë‹¤."
        ]
    },
    {
        "id": 9,
        "title": "ì •ë¶€, ëª¨ë“  ê³µê³µìž¥ì†Œì—ì„œ wifiì§€ì› ì² ìˆ˜ê²°ì •, ë””ì§€í„¸ íœ´ì‹ì„ ì„ ì–¸í•˜ë‹¤! (3ì‹œê°„ì „)",
        "content": "ì •ë¶€ê°€ ë””ì§€í„¸ ê³¼ë‹¤ ì‚¬ìš©ì„ ë°©ì§€í•˜ê¸° ìœ„í•´, ì˜¤ëŠ” 2026ë…„ë¶€í„° ê³µê³µìž¥ì†Œ wifi ì„¤ì¹˜ ì§€ì›ì„ ëŒ€í­ ê°ì†Œì‹œí‚¨ë‹¤. â€˜ë””ì§€í„¸ íœ´ì‹â€™ì„ ì·¨í•˜ê¸° ìœ„í•œ ì´ ì •ì±…ì€ ì‹œë¯¼ë“¤ì˜ â€˜ì˜¨ë¼ì¸ ì¤‘ë…â€™ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ê³µê³µê¸°ê´€ê³¼ ëŒ€í˜• ì‡¼í•‘ëª°, ì¹´íŽ˜ ë“±ì—ì„œ ë¬´ì„  ì¸í„°ë„·ì„ í˜„ìž¬ì˜ 30í¼ì„¼íŠ¸ ê°€ëŸ‰ìœ¼ë¡œ ì¤„ì¸ë‹¤ëŠ” ê³„íšì´ë‹¤. ì´ ë²•ì•ˆì€ ì‹œë¯¼ë“¤ì˜ ê±´ê°•ê³¼ ì •ì‹ ì  ì•ˆì •ì„ ìœ„í•œ ìƒˆë¡œìš´ ì‹œë„ë¼ê³  ì •ë¶€ ê´€ê³„ìžëŠ” ì„¤ëª…í–ˆìœ¼ë©°, ì´ë¥¼ í†µí•´ ì‹œë¯¼ë“¤ì´ ì˜¤ížˆë ¤ â€œì˜¤í”„ë¼ì¸ì˜ ì§„ì •í•œ í–‰ë³µâ€ì„ ì°¾ê²Œ ë  ê²ƒì´ë¼ê³  ì „í–ˆë‹¤. ê·¸ë™ì•ˆ 'ìŠ¤ë§ˆíŠ¸í° ëŒ€ì‹  ì±…ì„ ë“¤ê³  ë‚˜ê°€ìž'ëŠ” ìº íŽ˜ì¸ë„ í•¨ê»˜ ì§„í–‰í•  ì˜ˆì •ì´ë¼ê³  í•œë‹¤.",
        "answer": "ê°€ì§œ ë‰´ìŠ¤",
        "hints": [
            "ì œëª©ì´ ë§¤ìš° ìžê·¹ì ì´ë©° ì„ ë™ì ìž…ë‹ˆë‹¤.",
            "í˜„ì‹¤ì„±ì´ ë–¨ì–´ì§€ëŠ” ì •ì±… ë‚´ìš©ìœ¼ë¡œ, ì œëª©ê³¼ ë‚´ìš©ì˜ ì¼ê´€ì„±ì´ ë¶€ì¡±í•´ ë³´ìž…ë‹ˆë‹¤."
        ]
    }
];

// DOM Elements
const scoreValue = document.getElementById("score-value");
const qTitle = document.getElementById("question-title");
const qContent = document.getElementById("quiz-content");
const trueBtn = document.getElementById("true-btn");
const fakeBtn = document.getElementById("fake-btn");
const feedback = document.getElementById("feedback");
const feedbackMsg = document.getElementById("feedback-msg");
const feedbackHints = document.getElementById("feedback-hints");
const nextBtn = document.getElementById("next-btn");
const finalArea = document.getElementById("final-area");
const finalScore = document.getElementById("final-score");
const finalRemark = document.getElementById("final-remark");
const restartBtn = document.getElementById("restart-btn");
const homeBtn = document.getElementById("home-btn");
const startPage = document.getElementById("start-page");
const startBtn = document.getElementById("start-btn");
const quizContainer = document.getElementById("quiz-container");
const criteriaList = document.getElementById("criteria-list");
const criteriaSidebarList = document.getElementById("criteria-sidebar-list");

function populateCriteriaLists() {
    criteriaList.innerHTML = '';
    criteriaSidebarList.innerHTML = '';
    CRITERIA.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        criteriaList.appendChild(li);
        criteriaSidebarList.appendChild(li.cloneNode(true));
    });
}

function loadQuestions() {
  questions = [...QUESTIONS_DATA].sort(() => Math.random() - 0.5); // ë¬¸ì œ ì„žê¸°
  showQuestion();
}

function showQuestion() {
  if (idx >= questions.length) {
    finishQuiz();
    return;
  }

  const q = questions[idx];
  qTitle.textContent = `ë¬¸ì œ ${idx + 1}. ${q.title}`;
  qContent.textContent = q.content;
  feedback.classList.add("hidden");
  
  trueBtn.disabled = false;
  fakeBtn.disabled = false;
}

function submitAnswer(userAns) {
  trueBtn.disabled = true;
  fakeBtn.disabled = true;

  const q = questions[idx];
  const correct = (userAns === q.answer);
  
  if (correct) {
    correctAnswers++;
    currentScore = Math.round((correctAnswers / (idx + 1)) * 100);
    scoreValue.textContent = currentScore;
  }
  
  const message = correct ? "ì •ë‹µ! ðŸŒŸ ë‚ ì¹´ë¡œìš´ ë¶„ì„ë ¥ìž…ë‹ˆë‹¤!" : "ì•„ì‰½ìŠµë‹ˆë‹¤! ðŸ˜¥ ë‹¨ì„œë¥¼ ë” ì‚´íŽ´ë³´ì„¸ìš”.";
  
  feedbackMsg.textContent = `${message} (ì •ë‹µ: ${q.answer})`;
  feedbackHints.innerHTML = "";
  q.hints.forEach(h => {
    const li = document.createElement("li");
    li.textContent = h;
    feedbackHints.appendChild(li);
  });
  
  feedback.classList.remove("hidden");
}

function finishQuiz() {
  quizContainer.classList.add("hidden");
  finalArea.classList.remove("hidden");
  
  const finalPercentage = questions.length > 0 ? Math.round((correctAnswers / questions.length) * 100) : 0;
  finalScore.textContent = `ìµœì¢… ì ìˆ˜: ${finalPercentage}ì `;

  if (finalPercentage >= 80) {
    finalRemark.textContent = "ê°€ì§œ ë‰´ìŠ¤ íƒì§€ ì „ë¬¸ê°€! ë‹¹ì‹ ì˜ ëˆˆì€ ê±°ì§“ ì •ë³´ë¥¼ ê¿°ëš«ì–´ ë´…ë‹ˆë‹¤. ðŸ‘ï¸â€ðŸ—¨ï¸";
  } else if (finalPercentage >= 50) {
    finalRemark.textContent = "ì¢‹ì€ íŒë³„ ëŠ¥ë ¥ìž…ë‹ˆë‹¤! ë‰´ìŠ¤ ì† ë¯¸ì„¸í•œ 'ì˜¤ë¥˜'ì— ì¢€ ë” ì£¼ëª©í•´ë³´ì„¸ìš”. ðŸ‘";
  } else {
    finalRemark.textContent = "ì£¼ì˜ ê¹Šì€ ê´€ì°°ì´ í•„ìš”í•©ë‹ˆë‹¤. ë‰´ìŠ¤ë¥¼ ë³¼ ë•Œ ë¹„íŒì ì¸ ì‹œê°ì„ ìœ ì§€í•˜ëŠ” ì—°ìŠµì„ í•´ë³´ì„¸ìš”. ðŸ¤”";
  }
}

// Event Listeners
startBtn.addEventListener("click", () => {
    startPage.classList.add("hidden");
    quizContainer.classList.remove("hidden");
    idx = 0;
    correctAnswers = 0;
    currentScore = 0;
    scoreValue.textContent = currentScore;
    loadQuestions();
});

trueBtn.addEventListener("click", () => submitAnswer("ì§„ì§œ ë‰´ìŠ¤"));
fakeBtn.addEventListener("click", () => submitAnswer("ê°€ì§œ ë‰´ìŠ¤"));

nextBtn.addEventListener("click", () => {
  idx += 1;
  showQuestion();
});

restartBtn.addEventListener("click", () => {
  finalArea.classList.add("hidden");
  startPage.classList.remove("hidden");
  quizContainer.classList.add("hidden");
});

homeBtn.addEventListener("click", () => {
    window.location.href = "/";
});

// Initialize
populateCriteriaLists();